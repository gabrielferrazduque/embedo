/**
 * @file flickr.embedo.js
 *
 * Embedo plugin to embed flickr.
 *
 * @author Shobhit Sharma <hi@shobh.it>
 * @license MIT
 */
"use strict";!function(e,t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof module&&module.exports)module.exports=t();else if(e){if(!e.Embedo||!window.Embedo)throw Error("Embedo script is either not imported or not available.");e.Embedo.Flickr=window.Embedo.Flickr=t()(e.Embedo||window.Embedo)}}(this,function(){return function(n){if(!n)throw Error("Embedo instance as argument is missing.");n.defaults.SOURCES.flickr={GLOBAL:null,SDK:"https://embedr.flickr.com/assets/embedr-loader.js",oEmbed:"//www.flickr.com/services/oembed",REGEX:/(https?:\/\/(ww.)?)?flickr(\.[a-z]+).*/i,PARAMS:{}},Object.defineProperty(n.prototype,"flickr",{value:function(r,o,e,d,l){var t=n.defaults.SOURCES.flickr.oEmbed,e=n.utils.merge({url:encodeURI(e),format:"json"},d,n.defaults.RESTRICTED);("width"in d||"maxwidth"in d)&&(e.maxwidth=d.maxwidth||d.width),("height"in d||"maxheight"in d)&&(e.maxheight=d.maxheight||d.height),t+="?"+n.utils.querystring(e),n.utils.fetch(t,{callback:"jsoncallback"},function(e,t){if(e)return n.log("error","flickr",e),l(e);var i=n.utils.generateEmbed(r,"flickr",t.html),e=i.querySelector("[data-flickr-embed]");e&&(e.setAttribute("data-header",d.header||!0),e.setAttribute("data-footer",d.footer||!0),e.setAttribute("data-context",d.context||!0)),o.appendChild(i),l(null,n.utils.extend({},t,{id:r,el:o,width:d.width,height:d.height}))})},writable:!1,enumerable:!0,configurable:!0})}});