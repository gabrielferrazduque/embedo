/**
 * @file gmaps.embedo.js
 *
 * Embedo plugin to embed Google Maps.
 *
 * @author Shobhit Sharma <hi@shobh.it>
 * @license MIT
 */
"use strict";!function(e,o){if("function"==typeof define&&define.amd)define(o);else if("object"==typeof module&&module.exports)module.exports=o();else if(e){if(!e.Embedo||!window.Embedo)throw Error("Embedo script is either not imported or not available.");e.Embedo.GMaps=window.Embedo.GMaps=o()(e.Embedo||window.Embedo)}}(this,function(){return function(m){if(!m)throw Error("Embedo instance as argument is missing.");m.defaults.SOURCES.googlemaps={GLOBAL:"google",SDK:"https://maps.googleapis.com/maps/api/js",oEmbed:null,REGEX:/(http|https)?:\/\/(www\.|maps\.)?google(\.[a-z]+){1,2}\/maps\/.*/i,PARAMS:{}},Object.defineProperty(m.prototype,"googlemaps",{value:function(t,i,e,n,a){var d=m.utils.dimensions(i,n.width,n.height),r=function(e){e=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+),(\d+\.?\d?)+z/);return e&&e.length&&e[1]&&e[2]?{lat:parseFloat(e[1],0),lng:parseFloat(e[2],0)}:null}(e);if(!r)return a(new Error("unable_to_find_cordinates"));var o,l,s,p,g=m.utils.generateEmbed(t,"googlemaps");i.appendChild(g),o=i,l=g,s={url:e,width:d.width,height:d.height,centerize:n.centerize},p=function(e){if(e)return m.log("error","googlemaps",e),a(e);var o=new window.google.maps.LatLng(r.lat,r.lng),e=new window.google.maps.Map(g,{zoom:n.zoom||12,center:o,mapTypeId:n.MapTypeId||window.google.maps.MapTypeId.ROADMAP}),o=new window.google.maps.Marker({map:e,draggable:!0,animation:window.google.maps.Animation.DROP,position:o});a(null,{id:t,el:i,width:d.width,height:d.height,marker:o})},m.utils.sdkReady("googlemaps",function(e){return e?p(e):(!1!==s.centerize&&m.utils.centerize(o,l,s),l.style.width=s.width?s.width+"px":m.utils.compute(o,"width"),l.style.height=s.height?s.height+"px":m.utils.compute(o,"height"),void p(null,{}))})},writable:!1,enumerable:!0,configurable:!0})}});